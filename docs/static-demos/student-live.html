<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Student Live Class (Static Snapshot)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 16px; background:#0b1020; color:#e5e7eb; }
    .container { display: grid; grid-template-columns: 2fr 1fr; gap: 16px; }
    .stage { background: #0f172a; border: 1px solid #1f2937; border-radius: 10px; padding: 12px; }
    .panel { background: #0f172a; border: 1px solid #1f2937; border-radius: 10px; padding: 12px; }
    .slide { width: 100%; background: #111827; border-radius: 8px; aspect-ratio: 4/3; display:flex; align-items:center; justify-content:center; }
    .slide img { max-width: 100%; max-height: 100%; }
    .controls { display:flex; gap:8px; align-items:center; margin-top: 8px; }
    .btn { background: #155EEF; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; }
    .muted { color: #94a3b8; font-size: 12px; }
    dialog { border: 0; border-radius: 8px; padding: 16px; }
  </style>
</head>
<body>
  <h1>Live: Intro to AI</h1>
  <div class="container">
    <div class="stage">
      <div class="slide">
        <img id="slide" alt="Slide" src="https://via.placeholder.com/640x480?text=Slide+1"/>
      </div>
      <div class="controls">
        <button class="btn" onclick="prev()">Prev</button>
        <button class="btn" onclick="next()">Next</button>
        <button class="btn" style="background:#10b981" onclick="openQuiz()">Answer Quiz</button>
        <span class="muted" id="status">Slide 1/3</span>
      </div>
      <div class="controls">
        <audio id="audio" controls src=""></audio>
      </div>
    </div>
    <div class="panel">
      <h3>Class Info</h3>
      <div class="muted">Students connected: <span id="peers">37</span></div>
      <div class="muted">Network: good</div>
      <div style="margin-top:8px;">
        <button class="btn" onclick="join()">Join Audio</button>
        <button class="btn" style="background:#ef4444" onclick="leave()">Leave</button>
      </div>
      <hr style="border-color:#1f2937; margin:12px 0;"/>
      <h4>Chat (demo)</h4>
      <div id="chat" class="muted" style="height:160px; overflow:auto; background:#0b1220; border:1px solid #1f2937; border-radius:6px; padding:8px;">
        [10:01] Teacher: Welcome everyone!<br/>
        [10:02] Student: Hello!
      </div>
      <div style="display:flex; gap:8px; margin-top:6px;">
        <input id="msg" placeholder="Type message..." style="flex:1; padding:6px; border-radius:6px; border:1px solid #1f2937; background:#0b1220; color:#e5e7eb;"/>
        <button class="btn" onclick="send()">Send</button>
      </div>
    </div>
  </div>

  <dialog id="quiz">
    <h3>Quiz: 2 + 2 = ?</h3>
    <form method="dialog">
      <div>
        <label><input type="radio" name="opt" value="3" required/> 3</label><br/>
        <label><input type="radio" name="opt" value="4"/> 4</label><br/>
        <label><input type="radio" name="opt" value="5"/> 5</label><br/>
      </div>
      <div style="margin-top:8px; display:flex; gap:8px; justify-content:flex-end;">
        <button class="btn" value="cancel" style="background:#6b7280">Cancel</button>
        <button class="btn" value="submit">Submit</button>
      </div>
    </form>
  </dialog>

  <script>
    // Static demo data
    const slides = [
      { index: 0, image: 'https://via.placeholder.com/640x480?text=Slide+1', audio: '' },
      { index: 1, image: 'https://via.placeholder.com/640x480?text=Slide+2', audio: '' },
      { index: 2, image: 'https://via.placeholder.com/640x480?text=Slide+3', audio: '' },
    ];
    let current = 0;

    function update() {
      document.getElementById('slide').src = slides[current].image;
      document.getElementById('status').textContent = `Slide ${current+1}/${slides.length}`;
      const a = document.getElementById('audio');
      a.src = slides[current].audio || '';
    }
    function prev() { current = Math.max(0, current - 1); update(); }
    function next() { current = Math.min(slides.length - 1, current + 1); update(); }
    function openQuiz() { document.getElementById('quiz').showModal(); }
    function join() { alert('Join live audio (RTC offer/answer via WS in real app).'); }
    function leave() { alert('Leave session.'); }
    function send() {
      const box = document.getElementById('msg');
      const chat = document.getElementById('chat');
      if (!box.value) return;
      chat.innerHTML += `<br/>[you] ${box.value}`;
      box.value = '';
      chat.scrollTop = chat.scrollHeight;
    }
    update();
  </script>
</body>
</html>